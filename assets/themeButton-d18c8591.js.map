{"version":3,"file":"themeButton-d18c8591.js","sources":["../../src/js/data.js","../../src/js/fonds.js","../../src/js/axios.js","../../src/js/best-sellers-cont.js","../../src/js/category-cont.js","../../src/js/categories-list.js","../../src/main.js","../../src/components/themeButton/themeButton.js"],"sourcesContent":["export const fondsList = [\n  {\n    link: \"https://www.savethechildren.net/what-we-do/emergencies/war-ukraine\",\n    name: \"save-the-children\"\n  },\n  {\n    link: \"https://www.projecthope.org/country/ukraine/\",\n    name: \"project-hope\"\n  },\n  {\n    link: \"https://internationalmedicalcorps.org/country/ukraine/\",\n    name: \"int-medical-corps\"\n  },\n  {\n    link: \"https://www.razomforukraine.org/\",\n    name: \"razom\"\n  },\n  {\n    link: \"https://www.actionagainsthunger.org/location/europe/ukraine/\",\n    name: \"action-ag-hunger\"\n  },\n  {\n    link: \"https://prytulafoundation.org/en\",\n    name: \"fond-prytula\"\n  },\n  {\n    link: \"https://www.msf.org/ukraine\",\n    name: \"med-sans-front\"\n  },\n  {\n    link: \"https://www.wvi.org/emergencies/ukraine\",\n    name: \"world-vision\"\n  },\n  {\n    link: \"https://u24.gov.ua/uk\",\n    name: \"united24\"\n  }\n];","import { fondsList } from './data';\nconst scrollBtn = document.querySelector('.scroll-btn');\nconst list = document.querySelector('.fonds-list');\nlet lastElNum = 6;\n\nscrollBtn.addEventListener('click', () => {\n  scrollList();\n});\n\nexport function scrollList() {\n  lastElNum++;\n  if (lastElNum > 9) {\n    lastElNum = 6;\n  }\n  generateList(lastElNum - 5, lastElNum);\n}\n\nfunction generateList(fromNum, toNum) {\n  let generalHTML = '';\n  while (fromNum <= toNum) {\n    generalHTML += `\n      <li>\n      <a href=\"${fondsList[fromNum - 1].link}\" target=\"_blank\">\n        <span>0${fromNum}</span>\n        <img\n          src=\"./img/fonds/${fondsList[fromNum - 1].name}_1x.png\"\n          srcset=\"./img/fonds/${fondsList[fromNum - 1].name}_1x.png 1x,\n                  ./img/fonds/${fondsList[fromNum - 1].name}_2x.png 2x\"\n        >\n      </a>\n    </li>\n    `;\n    fromNum++;\n  }\n\n  checkBtnStatus();\n  list.innerHTML = generalHTML;\n}\n\nfunction checkBtnStatus() {\n  if (lastElNum != 9) {\n    if (!scrollBtn.classList.contains('position-bottom-js')) {\n      scrollBtn.classList.add('position-bottom-js');\n    }\n  } else {\n    scrollBtn.classList.remove('position-bottom-js');\n  }\n}\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://books-backend.p.goit.global';\n\nexport async function getApiData(url) {\n  try {\n    const response = await axios.get(url);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n    throw error;\n  }\n}\n","import { getApiData } from './axios';\nimport { markCategory } from './categories-list';\nimport { generateCategoryBooks } from './category-cont';\nexport const mainContainer = document.querySelector('.main-container');\n\nexport async function generateBestSellersBooks() {\n  let generalHTML = `\n    <h1>Best Sellers <span class=\"books-word\">Books</span></h1>\n    <ul class=\"categories-list\">\n  `;\n\n  const categories = JSON.parse(localStorage.getItem('allCategories'));\n  console.log(categories);\n  let number = 2;\n  for (const category of categories) {\n    generalHTML += `\n      <li>\n        <div>\n          <h4>${category.list_name}</h4>\n        </div>\n        <ul class=\"list-cont\">\n    `;\n    let books = await getApiData(\n      `/books/category?category=${category.list_name}`\n    );\n    books = removeDuplicates(books);\n    books = books.slice(0, 5);\n    books.forEach(book => {\n      generalHTML += `\n        <li class=\"list-item-cont\">\n          <div>\n            <img class=\"book-img\" src=\"${book.book_image}\" alt=\"${book.list_name}\" width=\"${book.book_image_width}\" height=\"${book.book_image_height}\"  loading=\"lazy\">\n            <p class=\"book-name\">${book.title}</p>\n            <p class=\"author-name\">${book.author}</p>\n          </div>\n        </li>\n      `;\n    });\n    generalHTML += `\n      </ul>\n      <button class=\"see-more-btn\" data-category=\"${category.list_name}\" data-id=\"category-link-${number}\">SEE MORE</button>\n    </li>\n    `;\n    number++;\n  }\n\n  generalHTML += '</ul>';\n  mainContainer.innerHTML = generalHTML;\n  initializeSeeMoreBtn();\n}\n\nfunction initializeSeeMoreBtn() {\n  const seeMoreBtn = document.querySelectorAll('.see-more-btn');\n  seeMoreBtn.forEach(button => {\n    button.addEventListener('click', e => {\n      generateCategoryBooks(e.target.dataset.category);\n      markCategory(e.target.dataset.id);\n    });\n  });\n}\n\nexport function removeDuplicates(array) {\n  let duplicates = [];\n  const newArray = array.filter(item => {\n    if (!duplicates.find(duplicate => duplicate.title == item.title)) {\n      duplicates.push(item);\n      return true;\n    } else {\n      return false;\n    }\n  });\n  return newArray;\n}\n","import { mainContainer } from './best-sellers-cont';\nimport { getApiData } from './axios';\nimport { removeDuplicates } from './best-sellers-cont';\nimport { generateBestSellersBooks } from './best-sellers-cont';\n\nexport async function generateCategoryBooks(category) {\n  if (category == 'All categories') {\n    generateBestSellersBooks();\n    return;\n  }\n\n  const categoryWords = category.split(' ');\n  const lastWord = categoryWords.pop();\n  const categoryWithoutLastWord = categoryWords.join(' ');\n\n  let generalHTML = `\n    <h1>${categoryWithoutLastWord} <span class=\"books-word\">${lastWord}</span></h1>\n    <ul class=\"category-list-cont\">\n  `;\n  let categoryBooks = await getApiData(`/books/category?category=${category}`);\n  categoryBooks = removeDuplicates(categoryBooks);\n  categoryBooks.forEach(book => {\n    generalHTML += `\n        <li class=\"list-item-cont\">\n          <a href=\"\">\n            <img class=\"book-img\" src=\"${book.book_image}\" alt=\"${book.list_name}\" width=\"${book.book_image_width}\" height=\"${book.book_image_height}\"  loading=\"lazy\">\n            <p class=\"book-name\">${book.title}</p>\n            <p class=\"author-name\">${book.author}</p>\n          </a>\n        </li>\n      `;\n  });\n\n  generalHTML += `</ul>`;\n  mainContainer.innerHTML = generalHTML;\n}\n","import { getApiData } from \"./axios\";\nimport { generateCategoryBooks } from \"./category-cont\";\nimport { generateBestSellersBooks } from \"./best-sellers-cont\";\n\nconst categoryList = document.querySelector('.categories-list');\nlet currentCategoryId = \"category-link-1\";\n\nexport async function generateCategoryList(){\n  let allCategories;\n  let generalHTML = `\n    <li>\n        <a href=\"#\" class=\"category-link\" id=\"category-link-1\">All categories</a>\n    </li>\n  `;\n  if(localStorage.getItem('allCategories') == null){\n    allCategories = await getApiData('/books/category-list');\n    localStorage.setItem('allCategories', JSON.stringify(allCategories));\n  }else{\n    allCategories = JSON.parse(localStorage.getItem('allCategories'));\n  }\n\n  let number = 2;\n  allCategories.forEach((item) => {\n    generalHTML += `\n      <li>\n        <a href=\"#\" class=\"category-link\" id=\"category-link-${number}\">${item.list_name}</a>\n      </li>\n    `;\n    number++;\n  });\n\n  categoryList.innerHTML = generalHTML;\n\n  document.getElementById(`${currentCategoryId}`)\n    .classList.add('current-category');\n\n  document.querySelectorAll('.category-link').forEach((link) => {\n    link.addEventListener('click', (e) => {\n      e.preventDefault();\n      generateCategoryBooks(e.target.textContent);\n      markCategory(e.target.id);\n    });\n  })\n}\n\nexport function markCategory(id){\n  document.getElementById(`${currentCategoryId}`)\n    .classList.remove('current-category');\n\n  document.getElementById(`${id}`)\n    .classList.add('current-category');\n  currentCategoryId = id;\n}\n\n\n","import { scrollList } from \"./js/fonds\";\nimport { generateCategoryList } from \"./js/categories-list\";\nimport { generateBestSellersBooks } from \"./js/best-sellers-cont\";\n\ndocument.addEventListener(\"DOMContentLoaded\",async () => {\n  await generateCategoryList();\n  await generateBestSellersBooks();\n})\n","const toggleSwitch = document.querySelector(\n  '.theme-switch-wrapper input[type=\"checkbox\"]'\n);\n\nconst systemPrefersDark = window.matchMedia(\n  '(prefers-color-scheme: dark)'\n).matches;\n\nconst currentTheme = localStorage.getItem('theme');\n\nif (currentTheme) {\n  document.documentElement.setAttribute('data-theme', currentTheme);\n  if (currentTheme === 'dark') {\n    toggleSwitch.checked = true;\n  }\n} else if (systemPrefersDark) {\n  document.documentElement.setAttribute('data-theme', 'dark');\n  toggleSwitch.checked = true;\n} else {\n  document.documentElement.setAttribute('data-theme', 'light');\n}\n\nfunction switchTheme(e) {\n  if (e.target.checked) {\n    document.documentElement.setAttribute('data-theme', 'dark');\n    localStorage.setItem('theme', 'dark');\n  } else {\n    document.documentElement.setAttribute('data-theme', 'light');\n    localStorage.setItem('theme', 'light');\n  }\n}\n\ntoggleSwitch.addEventListener('change', switchTheme, false);\n"],"names":["fondsList","scrollBtn","list","lastElNum","scrollList","generateList","fromNum","toNum","generalHTML","checkBtnStatus","axios","getApiData","url","error","mainContainer","generateBestSellersBooks","categories","number","category","books","removeDuplicates","book","initializeSeeMoreBtn","button","e","generateCategoryBooks","markCategory","array","duplicates","item","duplicate","categoryWords","lastWord","categoryBooks","categoryList","currentCategoryId","generateCategoryList","allCategories","link","id","toggleSwitch","systemPrefersDark","currentTheme","switchTheme"],"mappings":"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"}